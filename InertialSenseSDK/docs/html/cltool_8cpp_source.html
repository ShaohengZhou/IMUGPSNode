<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDK: src/cltool.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo_Full_color_300x61.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK
   &#160;<span id="projectnumber">Release 1.1.4</span>
   </div>
   <div id="projectbrief">Communications, logger, and bootloader libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">cltool.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">MIT LICENSE</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">Copyright 2014 Inertial Sense, LLC - http://inertialsense.com</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files(the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions :</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;cltool.h&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;ISDataMappings.h&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<a class="code" href="structcmd__options__t.html">cmd_options_t</a> g_commandLineOptions;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<a class="code" href="structserial__port__t.html">serial_port_t</a> g_serialPort;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<a class="code" href="classc_inertial_sense_display.html">cInertialSenseDisplay</a> g_inertialSenseDisplay;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keywordtype">int</span> cltool_serialPortSendComManager(CMHANDLE cmHandle, <span class="keywordtype">int</span> pHandle, <a class="code" href="structbuffer__t.html">buffer_t</a>* bufferToSend)</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    (void)cmHandle;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    (void)pHandle;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> serialPortWrite(&amp;g_serialPort, bufferToSend-&gt;<a class="code" href="structbuffer__t.html#ac75c7fd252491f31cc9fa3458aafad8d">buf</a>, bufferToSend-&gt;<a class="code" href="structbuffer__t.html#ab1ce0deb7a33566b5c9e2705ae822007">size</a>);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keywordtype">bool</span> cltool_setupLogger(<a class="code" href="class_inertial_sense.html">InertialSense</a>&amp; inertialSenseInterface)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// Enable logging in continuous background mode</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> inertialSenseInterface.<a class="code" href="class_inertial_sense.html#aad367fd1ee47c42d2e5aa5c63b9576ce">SetLoggerEnabled</a></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    (</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        g_commandLineOptions.enableLogging, <span class="comment">// enable logger</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        g_commandLineOptions.logPath, <span class="comment">// path to log to, if empty defaults to DEFAULT_LOGS_DIRECTORY</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        g_commandLineOptions.solStreamCtrl, <span class="comment">// solution logging options</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        g_commandLineOptions.maxLogSpacePercent, <span class="comment">// max space in percentage of free space to use, 0 for unlimited</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        g_commandLineOptions.maxLogFileSize, <span class="comment">// each log file will be no larger than this in bytes</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        g_commandLineOptions.maxLogMemory, <span class="comment">// logger will try and keep under this amount of memory</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        g_commandLineOptions.logSubFolder <span class="comment">// log sub folder name</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    );</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// Call these elsewhere as needed</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//  inertialSenseInterface.EnableLogger(false); // Enable/disable during runtime</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//  inertialSenseInterface.CloseLogger();       // Stop logging and save remaining data to file</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> startsWith(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* pre)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">size_t</span> lenpre = strlen(pre), lenstr = strlen(str);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> lenstr &lt; lenpre ? <span class="keyword">false</span> : strncmp(pre, str, lenpre) == 0;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define CL_DEFAULT_BAUD_RATE                IS_COM_BAUDRATE_DEFAULT </span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define CL_DEFAULT_COM_PORT                 &quot;*&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define CL_DEFAULT_DISPLAY_MODE             cInertialSenseDisplay::DMODE_PRETTY </span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#define CL_DEFAULT_LOGS_DIRECTORY           DEFAULT_LOGS_DIRECTORY</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define CL_DEFAULT_ENABLE_LOGGING           false </span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#define CL_DEFAULT_MAX_LOG_FILE_SIZE        1024 * 1024 * 5</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define CL_DEFAULT_MAX_LOG_SPACE_PERCENT    0.5f </span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#define CL_DEFAULT_MAX_LOG_MEMORY           131072</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#define CL_DEFAULT_REPLAY_SPEED             1.0</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define CL_DEFAULT_BOOTLOAD_VERIFY          true</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keywordtype">bool</span> cltool_parseCommandLine(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// set defaults</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    g_commandLineOptions.baudRate = CL_DEFAULT_BAUD_RATE;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    g_commandLineOptions.comPort = CL_DEFAULT_COM_PORT;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    g_commandLineOptions.displayMode = CL_DEFAULT_DISPLAY_MODE;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    g_commandLineOptions.solStreamCtrl = 0xFFFFFFFF;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    g_commandLineOptions.enableLogging = CL_DEFAULT_ENABLE_LOGGING;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    g_commandLineOptions.logPath = CL_DEFAULT_LOGS_DIRECTORY;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    g_commandLineOptions.maxLogFileSize = CL_DEFAULT_MAX_LOG_FILE_SIZE;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    g_commandLineOptions.maxLogSpacePercent = CL_DEFAULT_MAX_LOG_SPACE_PERCENT;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    g_commandLineOptions.maxLogMemory = CL_DEFAULT_MAX_LOG_MEMORY;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    g_commandLineOptions.replaySpeed = CL_DEFAULT_REPLAY_SPEED;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    g_commandLineOptions.bootloaderVerify = CL_DEFAULT_BOOTLOAD_VERIFY;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    cltool_outputHelp();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// parse command line</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; argc; i++)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* a = argv[i];</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-baud=&quot;</span>))</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            g_commandLineOptions.baudRate = strtol(&amp;a[6], NULL, 10);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-b=&quot;</span>))</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            g_commandLineOptions.bootloaderFileName = &amp;a[3];</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-bv=&quot;</span>))</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            g_commandLineOptions.bootloaderVerify = a[4] == <span class="charliteral">&#39;1&#39;</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-c=&quot;</span>))</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            g_commandLineOptions.comPort = &amp;a[3];</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-dboc&quot;</span>))</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            g_commandLineOptions.disableBroadcastsOnClose = <span class="keyword">true</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-flashConfig=&quot;</span>))</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            g_commandLineOptions.flashConfig = &amp;a[13];</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-host=&quot;</span>))</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            g_commandLineOptions.host = &amp;a[6];</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-h&quot;</span>) || startsWith(a, <span class="stringliteral">&quot;--h&quot;</span>) || startsWith(a, <span class="stringliteral">&quot;-help&quot;</span>) || startsWith(a, <span class="stringliteral">&quot;--help&quot;</span>))</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            cltool_outputUsage();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lms=&quot;</span>))</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            g_commandLineOptions.maxLogSpacePercent = (float)atof(&amp;a[5]);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lmf=&quot;</span>))</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            g_commandLineOptions.maxLogFileSize = (uint32_t)strtoul(&amp;a[5], NULL, 10);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lmm=&quot;</span>))</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            g_commandLineOptions.maxLogMemory = (uint32_t)strtoul(&amp;a[5], NULL, 10);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lts=&quot;</span>))</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span>* subFolder = &amp;a[5];</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (*subFolder == <span class="charliteral">&#39;1&#39;</span> || startsWith(subFolder, <span class="stringliteral">&quot;true&quot;</span>))</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                g_commandLineOptions.logSubFolder = cISLogger::CreateCurrentTimestamp();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*subFolder == <span class="charliteral">&#39;\0&#39;</span> || *subFolder == <span class="charliteral">&#39;0&#39;</span> || startsWith(subFolder, <span class="stringliteral">&quot;false&quot;</span>))</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                g_commandLineOptions.logSubFolder = cISLogger::g_emptyString;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                g_commandLineOptions.logSubFolder = subFolder;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lp=&quot;</span>))</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            g_commandLineOptions.logPath = &amp;a[4];</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-lon&quot;</span>))</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            g_commandLineOptions.enableLogging = <span class="keyword">true</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgBaro&quot;</span>))</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            g_commandLineOptions.streamBaro = <span class="keyword">true</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgDThetaVel&quot;</span>))</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            g_commandLineOptions.streamDThetaVel = <span class="keyword">true</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgDualIMU&quot;</span>))</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            g_commandLineOptions.streamDualIMU = <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgGPS&quot;</span>))</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            g_commandLineOptions.streamGPS = <span class="keyword">true</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgIMU1&quot;</span>))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            g_commandLineOptions.streamIMU1 = <span class="keyword">true</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgIMU2&quot;</span>))</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            g_commandLineOptions.streamIMU2 = <span class="keyword">true</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgINS1&quot;</span>))</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            g_commandLineOptions.streamINS1 = <span class="keyword">true</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgINS2&quot;</span>))</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            g_commandLineOptions.streamINS2 = <span class="keyword">true</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgINS3&quot;</span>))</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            g_commandLineOptions.streamINS3 = <span class="keyword">true</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgINS4&quot;</span>))</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            g_commandLineOptions.streamINS4 = <span class="keyword">true</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgMag1&quot;</span>))</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            g_commandLineOptions.streamMag1 = <span class="keyword">true</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgMag2&quot;</span>))</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            g_commandLineOptions.streamMag2 = <span class="keyword">true</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgRTOS&quot;</span>))</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            g_commandLineOptions.streamRTOS = <span class="keyword">true</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgSensors&quot;</span>))</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            g_commandLineOptions.streamSysSensors = <span class="keyword">true</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-msgSol&quot;</span>))</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            g_commandLineOptions.solStreamCtrl = strtol(a + 7, NULL, 10);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-q&quot;</span>))</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            g_commandLineOptions.displayMode = cInertialSenseDisplay::DMODE_QUIET;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-rp=&quot;</span>))</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            g_commandLineOptions.replayDataLog = <span class="keyword">true</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            g_commandLineOptions.logPath = &amp;a[4];</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-rs=&quot;</span>))</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            g_commandLineOptions.replayDataLog = <span class="keyword">true</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            g_commandLineOptions.replaySpeed = (float)atof(&amp;a[4]);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-r&quot;</span>))</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            g_commandLineOptions.replayDataLog = <span class="keyword">true</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-stats&quot;</span>))</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            g_commandLineOptions.displayMode = cInertialSenseDisplay::DMODE_STATS;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-svr=&quot;</span>))</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            g_commandLineOptions.serverConnection = &amp;a[5];</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (startsWith(a, <span class="stringliteral">&quot;-s&quot;</span>))</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            g_commandLineOptions.displayMode = cInertialSenseDisplay::DMODE_SCROLL;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Unrecognized command line option: &quot;</span> &lt;&lt; a &lt;&lt; endl;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            cltool_outputUsage();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// We are either using a serial port or replaying data</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> ((g_commandLineOptions.comPort.length() == 0) &amp;&amp; !g_commandLineOptions.replayDataLog)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        cltool_outputUsage();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (g_commandLineOptions.bootloaderFileName.length() &amp;&amp; g_commandLineOptions.comPort.length() == 0)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Use COM_PORT option \&quot;-c=\&quot; with bootloader&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">bool</span> cltool_replayDataLog()</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (g_commandLineOptions.logPath.length() == 0)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Please specify the replay log path!&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classc_i_s_logger.html">cISLogger</a> logger;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (!logger.LoadFromDirectory(g_commandLineOptions.logPath))</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Failed to load log files: &quot;</span> &lt;&lt; g_commandLineOptions.logPath &lt;&lt; endl;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Replaying log files: &quot;</span> &lt;&lt; g_commandLineOptions.logPath &lt;&lt; endl;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="structp__data__t.html">p_data_t</a> *data;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">while</span> ((data = logger.ReadData()) != NULL)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        g_inertialSenseDisplay.ProcessData(data, g_commandLineOptions.replayDataLog, g_commandLineOptions.replaySpeed);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Done replaying log files: &quot;</span> &lt;&lt; g_commandLineOptions.logPath &lt;&lt; endl;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    g_inertialSenseDisplay.Goodbye();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">void</span> cltool_outputUsage()</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    cout &lt;&lt; boldOff;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;-----------------------------------------------------------------&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;DESCRIPTION&quot;</span> &lt;&lt; endlbOff;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    Command line utility for communicating, logging, and updating&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    firmware with Inertial Sense product line.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;EXAMPLES&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot;                          &quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # stream post processing data (PPD) with INS2 (default)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot; -lon -lts=1              &quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # logging to timestamp directory, stream PPD + INS2 data&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot; -lon -msgSol=3           &quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # logging, stream PPD + INS3 data&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot; -baud=115200 -msgINS2 -msgGPS -msgBaro&quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # stream multiple data sets at 115200 baud rate&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot; -msgSol=0                &quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # disable solution stream&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -rp=&quot;</span> &lt;&lt;     EXAMPLE_LOG_DIR                                           &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;       # replay log files from a folder&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=&quot;</span>  &lt;&lt;     EXAMPLE_PORT &lt;&lt; <span class="stringliteral">&quot; -b= &quot;</span> &lt;&lt; EXAMPLE_FIRMWARE_FILE                &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # bootload firmware&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; APP_NAME &lt;&lt; APP_EXT &lt;&lt; <span class="stringliteral">&quot; -c=* -baud=921600                      &quot;</span> &lt;&lt; EXAMPLE_SPACE_1 &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; # 921600 mbps baudrate on all serial ports&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (General)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -h --help&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;       display this help menu&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -c=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;COM_PORT     select the serial port. Set COM_PORT to \&quot;*\&quot; for all ports and \&quot;*4\&quot;&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;       &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;             to use only the first four ports. Not specifying this parameter is same as \&quot;-c=&quot;</span> &lt;&lt; CL_DEFAULT_COM_PORT &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt;  endlbOn;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -baud=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;BAUDRATE  set serial port baudrate.  Options: &quot;</span> &lt;&lt; IS_BAUDRATE_115200 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; IS_BAUDRATE_230400 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; IS_BAUDRATE_460800 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; IS_BAUDRATE_921600 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; IS_BAUDRATE_3000000 &lt;&lt; <span class="stringliteral">&quot; (default) &quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -b=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;FILEPATH     bootload firmware using .hex file FILEPATH&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -q&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;              quite mode, no display&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -s&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;              scroll displayed messages to show history&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -stats&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;          display statistics of data received&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (Solution Streaming)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgSol[n]    &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  Post Process Data (PPD) = DID_GPS + DID_MAGNETOMETER1 + DID_MAGNETOMETER2 +&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  DID_BAROMETER + DID_FLASH_CONFIG.  Use -msgSol0 to disable solution streaming.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD1_INS1 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DUAL_IMU + DID_INS1&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD1_INS2 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DUAL_IMU + DID_INS2 (recommended default)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD1_INS3 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DUAL_IMU + DID_INS3&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD1_INS4 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DUAL_IMU + DID_INS4&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD2_INS1 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DELTA_THETA_VEL + DID_INS1&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD2_INS2 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DELTA_THETA_VEL + DID_INS2&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD2_INS3 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DELTA_THETA_VEL + DID_INS3&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_PPD2_INS4 &lt;&lt; <span class="stringliteral">&quot;: PPD + DID_DELTA_THETA_VEL + DID_INS4&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  INS output only without PPD&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;                  &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;    n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_INS1 &lt;&lt; <span class="stringliteral">&quot;: DID_INS1, n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_INS2 &lt;&lt; <span class="stringliteral">&quot;: DID_INS2, n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_INS3 &lt;&lt; <span class="stringliteral">&quot;: DID_INS3, n=&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SOL_STREAM_INS4 &lt;&lt; <span class="stringliteral">&quot;: DID_INS4&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (Message Streaming)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgINS[n]    &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_INS_[n], where [n] = 1, 2, 3 or 4 (without brackets)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgIMU[n]    &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_IMU_[n], where [n] = 1 or 2 (without brackets)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgDualIMU   &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_DUAL_IMU&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgDThetaVel &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_DELTA_THETA_VEL&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgMag[n]    &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_MAGNETOMETER_[n], where [n] = 1 or 2 (without brackets)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgBaro      &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_BAROMETER&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgGPS       &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_GPS&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -msgSensors   &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;  message DID_SYS_SENSORS&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (Logging to file, disabled by default)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lon&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;            enable logging&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lp=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;PATH        log data to path (default: &quot;</span> &lt;&lt; CL_DEFAULT_LOGS_DIRECTORY &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lms=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;PERCENT    log max space in percent of free space (default: &quot;</span> &lt;&lt; CL_DEFAULT_MAX_LOG_SPACE_PERCENT &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lmf=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;BYTES      log max file size in bytes (default: &quot;</span> &lt;&lt; CL_DEFAULT_MAX_LOG_FILE_SIZE &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lmm=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;BYTES      log max memory in bytes (default: &quot;</span>&lt;&lt; CL_DEFAULT_MAX_LOG_MEMORY &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -lts=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;0          log sub folder, 0 or blank for none, 1 for timestamp, else use as is&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -r&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;              replay data log from default path&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -rp=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;PATH        replay data log from PATH&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -rs=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;SPEED       replay data log at x SPEED&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (Read or write flash configuration)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -flashConfig=.&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; - read flash config and display.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -flashConfig=key=value|key=value &quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot; - set key / value pairs in flash config.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    cout &lt;&lt; endlbOn;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;OPTIONS (Client / server)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -svr=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;connectionInfo, used to retreive external data and send to the uINS. Examples:&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;     For retrieving RTCM3 data: -svr=RTCM3:192.168.1.100:7777:url:user:password - url, user and password optional.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;     For retrieving SERIAL data: -svr=RTCM3:SERIAL:COM9:57600 (port, baud).&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;     For retrieving InertialSense data: -svr=IS:192.168.1.100:7777 - no url, user or password.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;     For retrieving UBLOX data: -svr=UBLOX:192.168.1.100:7777 - no url, user or password.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;    -host=&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;ipAndPort, used to host a tcp/ip InertialSense server.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;     Example: -host=:7777 or -host=192.168.1.43:7777. The ip address part is optional.&quot;</span> &lt;&lt; endlbOn;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    cout &lt;&lt; boldOff;   <span class="comment">// Last line.  Leave bold text off on exit.</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keywordtype">void</span> cltool_outputHelp()</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    cout &lt;&lt; endlbOff &lt;&lt; <span class="stringliteral">&quot;Run \&quot;&quot;</span> &lt;&lt; boldOn &lt;&lt; <span class="stringliteral">&quot;cltool -h&quot;</span> &lt;&lt; boldOff &lt;&lt; <span class="stringliteral">&quot;\&quot; to display the help menu.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="keywordtype">bool</span> cltool_updateFlashConfig(<a class="code" href="class_inertial_sense.html">InertialSense</a>&amp; inertialSenseInterface, <span class="keywordtype">string</span> flashConfigString)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_p_a_c_k_e_d.html">nvm_flash_cfg_t</a>&amp; flashConfig = inertialSenseInterface.<a class="code" href="class_inertial_sense.html#a2c554ab4ba28ea547a1a57929af8b871">GetFlashConfig</a>();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">const</span> map_lookup_name_t&amp; globalMap = <a class="code" href="classc_i_s_data_mappings.html#acad4cdadbdbaccd2b3c761dd96a0740f">cISDataMappings::GetMap</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">const</span> map_name_to_info_t&amp; flashMap = globalMap.at(DID_FLASH_CONFIG);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (flashConfigString.length() &lt; 2)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// read flash config and display</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        data_mapping_string_t stringBuffer;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Current flash config&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">for</span> (map_name_to_info_t::const_iterator i = flashMap.begin(); i != flashMap.end(); i++)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classc_i_s_data_mappings.html#a14dc8cac4cab36bb9e4717021695cda2">cISDataMappings::DataToString</a>(i-&gt;second, NULL, (<span class="keyword">const</span> uint8_t*)&amp;flashConfig, stringBuffer))</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                cout &lt;&lt; i-&gt;second.name &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; stringBuffer &lt;&lt; endl;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="struct_p_a_c_k_e_d.html">nvm_flash_cfg_t</a> flashConfig = inertialSenseInterface.<a class="code" href="class_inertial_sense.html#a2c554ab4ba28ea547a1a57929af8b871">GetFlashConfig</a>();</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        vector&lt;string&gt; keyValues;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="class_inertial_sense.html#ab92a7f0e90fd0dc9ea31a3a12f3d3c27">InertialSense::SplitString</a>(flashConfigString, <span class="stringliteral">&quot;|&quot;</span>, keyValues);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; keyValues.size(); i++)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            vector&lt;string&gt; keyAndValue;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="class_inertial_sense.html#ab92a7f0e90fd0dc9ea31a3a12f3d3c27">InertialSense::SplitString</a>(keyValues[i], <span class="stringliteral">&quot;=&quot;</span>, keyAndValue);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (keyAndValue.size() == 2)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">if</span> (flashMap.find(keyAndValue[0]) == flashMap.end())</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    cout &lt;&lt; <span class="stringliteral">&quot;Unrecognized flash config key &#39;&quot;</span> &lt;&lt; keyAndValue[0] &lt;&lt; <span class="stringliteral">&quot;&#39; specified, ignoring.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structdata__info__t.html">data_info_t</a>&amp; info = flashMap.at(keyAndValue[0]);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <a class="code" href="classc_i_s_data_mappings.html#a4c8312fb1402bb83ef456e4adf2bb033">cISDataMappings::StringToData</a>(keyAndValue[1].c_str(), (<span class="keywordtype">int</span>)(keyAndValue[1].length()), NULL, (uint8_t*)&amp;flashConfig, info);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    cout &lt;&lt; <span class="stringliteral">&quot;Updated flash config key &#39;&quot;</span> &lt;&lt; keyAndValue[0] &lt;&lt; <span class="stringliteral">&quot;&#39; to &#39;&quot;</span> &lt;&lt; keyAndValue[1].c_str() &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        inertialSenseInterface.<a class="code" href="class_inertial_sense.html#a5867626b72b1a92e06440372354a74d8">SetFlashConfig</a>(flashConfig);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        SLEEP_MS(1000);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        g_inertialSenseDisplay.Clear();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="structbuffer__t_html_ac75c7fd252491f31cc9fa3458aafad8d"><div class="ttname"><a href="structbuffer__t.html#ac75c7fd252491f31cc9fa3458aafad8d">buffer_t::buf</a></div><div class="ttdeci">uint8_t buf[PKT_BUF_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00157">com_manager.h:157</a></div></div>
<div class="ttc" id="classc_i_s_logger_html"><div class="ttname"><a href="classc_i_s_logger.html">cISLogger</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_logger_8h_source.html#l00070">ISLogger.h:70</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a2c554ab4ba28ea547a1a57929af8b871"><div class="ttname"><a href="class_inertial_sense.html#a2c554ab4ba28ea547a1a57929af8b871">InertialSense::GetFlashConfig</a></div><div class="ttdeci">nvm_flash_cfg_t GetFlashConfig(int pHandle=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00228">InertialSense.h:228</a></div></div>
<div class="ttc" id="structbuffer__t_html"><div class="ttname"><a href="structbuffer__t.html">buffer_t</a></div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00151">com_manager.h:151</a></div></div>
<div class="ttc" id="class_inertial_sense_html_ab92a7f0e90fd0dc9ea31a3a12f3d3c27"><div class="ttname"><a href="class_inertial_sense.html#ab92a7f0e90fd0dc9ea31a3a12f3d3c27">InertialSense::SplitString</a></div><div class="ttdeci">static size_t SplitString(const string &amp;s, const string &amp;delimiter, vector&lt; string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00613">InertialSense.cpp:613</a></div></div>
<div class="ttc" id="class_inertial_sense_html"><div class="ttname"><a href="class_inertial_sense.html">InertialSense</a></div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8h_source.html#l00061">InertialSense.h:61</a></div></div>
<div class="ttc" id="structdata__info__t_html"><div class="ttname"><a href="structdata__info__t.html">data_info_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_data_mappings_8h_source.html#l00053">ISDataMappings.h:53</a></div></div>
<div class="ttc" id="class_inertial_sense_html_a5867626b72b1a92e06440372354a74d8"><div class="ttname"><a href="class_inertial_sense.html#a5867626b72b1a92e06440372354a74d8">InertialSense::SetFlashConfig</a></div><div class="ttdeci">void SetFlashConfig(const nvm_flash_cfg_t &amp;flashConfig, int pHandle=0)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00513">InertialSense.cpp:513</a></div></div>
<div class="ttc" id="class_inertial_sense_html_aad367fd1ee47c42d2e5aa5c63b9576ce"><div class="ttname"><a href="class_inertial_sense.html#aad367fd1ee47c42d2e5aa5c63b9576ce">InertialSense::SetLoggerEnabled</a></div><div class="ttdeci">bool SetLoggerEnabled(bool enable, const string &amp;path=cISLogger::g_emptyString, uint32_t logSolution=SOL_STREAM_PPD1_INS2, float maxDiskSpacePercent=0.5f, uint32_t maxFileSize=1024 *1024 *5, uint32_t chunkSize=131072, const string &amp;subFolder=cISLogger::g_emptyString)</div><div class="ttdef"><b>Definition:</b> <a href="_inertial_sense_8cpp_source.html#l00262">InertialSense.cpp:262</a></div></div>
<div class="ttc" id="classc_inertial_sense_display_html"><div class="ttname"><a href="classc_inertial_sense_display.html">cInertialSenseDisplay</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_s_display_8h_source.html#l00036">ISDisplay.h:36</a></div></div>
<div class="ttc" id="structserial__port__t_html"><div class="ttname"><a href="structserial__port__t.html">serial_port_t</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_port_8h_source.html#l00064">serialPort.h:64</a></div></div>
<div class="ttc" id="structbuffer__t_html_ab1ce0deb7a33566b5c9e2705ae822007"><div class="ttname"><a href="structbuffer__t.html#ab1ce0deb7a33566b5c9e2705ae822007">buffer_t::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00154">com_manager.h:154</a></div></div>
<div class="ttc" id="structp__data__t_html"><div class="ttname"><a href="structp__data__t.html">p_data_t</a></div><div class="ttdef"><b>Definition:</b> <a href="com__manager_8h_source.html#l00304">com_manager.h:304</a></div></div>
<div class="ttc" id="classc_i_s_data_mappings_html_a14dc8cac4cab36bb9e4717021695cda2"><div class="ttname"><a href="classc_i_s_data_mappings.html#a14dc8cac4cab36bb9e4717021695cda2">cISDataMappings::DataToString</a></div><div class="ttdeci">static bool DataToString(const data_info_t &amp;info, const p_data_hdr_t *hdr, const uint8_t *dataBuffer, data_mapping_string_t stringBuffer)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_data_mappings_8cpp_source.html#l01398">ISDataMappings.cpp:1398</a></div></div>
<div class="ttc" id="classc_i_s_data_mappings_html_acad4cdadbdbaccd2b3c761dd96a0740f"><div class="ttname"><a href="classc_i_s_data_mappings.html#acad4cdadbdbaccd2b3c761dd96a0740f">cISDataMappings::GetMap</a></div><div class="ttdeci">static const map_lookup_name_t &amp; GetMap()</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_data_mappings_8cpp_source.html#l01306">ISDataMappings.cpp:1306</a></div></div>
<div class="ttc" id="structcmd__options__t_html"><div class="ttname"><a href="structcmd__options__t.html">cmd_options_t</a></div><div class="ttdef"><b>Definition:</b> <a href="cltool_8h_source.html#l00044">cltool.h:44</a></div></div>
<div class="ttc" id="classc_i_s_data_mappings_html_a4c8312fb1402bb83ef456e4adf2bb033"><div class="ttname"><a href="classc_i_s_data_mappings.html#a4c8312fb1402bb83ef456e4adf2bb033">cISDataMappings::StringToData</a></div><div class="ttdeci">static bool StringToData(const char *stringBuffer, int stringLength, const p_data_hdr_t *hdr, uint8_t *dataBuffer, const data_info_t &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="_i_s_data_mappings_8cpp_source.html#l01318">ISDataMappings.cpp:1318</a></div></div>
<div class="ttc" id="struct_p_a_c_k_e_d_html"><div class="ttname"><a href="struct_p_a_c_k_e_d.html">PACKED</a></div><div class="ttdef"><b>Definition:</b> <a href="data__sets_8h_source.html#l00489">data_sets.h:489</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 30 2017 04:31:04 for SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
